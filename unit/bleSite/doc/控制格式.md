# 控制指令

## 扫描绑定

### 扫描

```
{
   "command" : "scan"
}

#扫描到的设备的基本信息：从上报的数据解析出来
{
    "deviceSn": "6A260F971B30",
    "device_model": "双色球泡灯",
    "device_modelCode": "22",
    "device_type": "LIGHT",
    "device_typeCode": "7"
}
```

### 扫描结束

```
{
   "command" : "scanEnd"
}
```

### 连接

```
{
   "command" : "connect",
   "deviceSn" : "xxxxxxx"
}
```

### 给网关分配地址

```
{
   "command" : "assignGateWayAddress",
}
```

### 给节点分配地址

```
{
   "command" : "assignNodeAddress",
   "nodeAddress" : "xxxx"
}
```

### 绑定

```
{
   "command" : "bind"
}
```

### 解绑

```
{
   "command" : "unbind",
   "deviceSn" : "xxxx"，
   "isForce" : false;   //是否强制删除，不等待网关回复
}
```

### 添加设备

```
#添加设备：扫描、绑定
{
   "command" : "add_device",
   "param" : {}			//添加时指明设备属性：如房间，房间号...
}
```



## 设备控制指令

### 开关灯

```
{
   "command" : "power",
   "commandPara" : "on"
   "address" : "xxxx",
   "transTime": 5
}
```

### 控制灯亮度

```
{
   "command" : "luminance",
   "commandPara" : 255
   "address" : "xxxx",
   "transTime": 5
}
```

### 控制灯色温

```
{
   "command" : "color_temperature",
   "commandPara" : 255
   "address" : "xxxx",
   "transTime": 5
}
```

### 同时控制亮度和色温

```
{
   "command" : "luminance_color_temperature",
   "commandParaLuminance" : 255,
   "commandParaColorTemperature" : 2700;
   "address" : "xxxx",
   "transTime": 5
}
```

### 亮度相对控制

```
{
   "command" : "luminance_relative",
   "commandPara" : 10,
   "address" : "xxxx",
   "transTime": 5
}
```

### 色温相对控制

```
{
   "command" : "color_temperature_relative",
   "commandPara" : 10,
   "address" : "xxxx",
   "transTime": 5
}
```

### 模式控制

```
{
   "command" : "mode_config",
   "commandPara" : 10,
   "address" : "xxxx",
}
```



## 组控制指令

### 将设备添加进分组

```
{
   "command" : "addDevice2Group",
   "group_id" : "01C0",
   "deviceSn" : "xxx",
   "model_name" : "";      //加入的分组类型
}
```

### 将设备从分组解除

```
{
   "command" : "delDeviceFromGroup",
   "group_id" : "01C0",
   "deviceSn" : "xxx",
   "model_name" : ""
}
```



//--------logicControl控制指令

//批量绑定：绑定指定的设备，或者绑定所有扫描到的设备
{
    "command" : "add_device",
    "param" :{
         "timeSeconds": 30,
         "room_name": "客厅",
         "room_no": "1"
    }
}